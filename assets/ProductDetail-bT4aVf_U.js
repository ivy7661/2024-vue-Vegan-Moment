import{_ as g,g as a,r as y,o as r,c as n,a as t,b as _,w as p,t as l,F as m,h,j as v,v as k,k as w,e as b}from"./index-6EUnd3g_.js";var x={VITE_API_URL:"https://ec-course-api.hexschool.io/v2",VITE_API_PATH:"js23",BASE_URL:"/HW-Vue-week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API_URL:f,VITE_API_PATH:I}=x,T={data(){return{productId:"",productInfo:{},productQty:1,selectImg:""}},mounted(){this.getProducts()},methods:{getProducts(){this.productId=this.$route.params.id;const c=`${f}/api/${I}/product/${this.productId}`;a.get(c).then(e=>{this.productInfo=e.data.product})},addToCart(){const c={product_id:this.productId,qty:1},e=`${f}/api/${I}/cart`;a.post(e,{data:c}).then(d=>{console.log(d)})}}},V={class:"container"},C={class:"row justify-content-center py-4 py-lg-0"},P={class:"col-lg-5"},E={class:"my-4"},S={"aria-label":"breadcrumb"},A={class:"breadcrumb mb-3"},R={class:"breadcrumb-item"},j={class:"breadcrumb-item"},D={class:"breadcrumb-item"},L={class:"mb-5"},N=["src","alt"],U=["src","alt"],Q=["src","alt","onClick"],B={class:"col-lg-5 my-lg-10"},H={class:"h2 mb-2"},F={class:"mb-2 mb-lg-3 text-gray-600"},M={class:"d-flex flex-row"},O={class:"h2 text-bold text-primary mb-1 me-3"},q={class:"h4 mt-2 mb-4"},W={class:"text-gray-3"},z={class:"d-flex flex-row"},G=t("p",{class:"mt-2 me-2"},"數量：",-1),J=["disabled"],K=["value"],X=["disabled"],Y=["disabled"],Z={class:"mb-4"},$=t("p",{class:"fs-6 fw-bold text-primary"},"商品介紹",-1),tt={key:0,class:"mb-4"},ot=t("p",{class:"fs-6 fw-bold text-primary"},"過敏資訊",-1);function st(c,e,d,et,o,i){const u=y("RouterLink");return r(),n("div",V,[t("div",C,[t("section",P,[t("div",E,[t("nav",S,[t("ol",A,[t("li",R,[_(u,{to:"/"},{default:p(()=>[b("首頁")]),_:1})]),t("li",j,[_(u,{to:"/products"},{default:p(()=>[b("線上訂餐")]),_:1})]),t("li",D,l(o.productInfo.category),1)])])]),t("div",L,[o.selectImg?(r(),n("img",{key:1,src:o.selectImg,alt:o.productInfo.title,class:"object-fit-cover w-100 mb-2 h-lg-img",height:"250"},null,8,U)):(r(),n("img",{key:0,src:o.productInfo.imageUrl,alt:o.productInfo.title,class:"object-fit-cover w-100 mb-2 h-lg-img",height:"250"},null,8,N)),(r(!0),n(m,null,h(o.productInfo.imagesUrl,s=>(r(),n("img",{key:s,src:s,alt:o.productInfo.title,width:"80",height:"80",class:"object-fit-cover me-2",onClick:ct=>o.selectImg=s,style:{cursor:"pointer"}},null,8,Q))),128))])]),t("section",B,[t("h1",H,l(o.productInfo.title),1),t("h6",F,l(o.productInfo.info),1),t("div",M,[t("p",O,"NT$"+l(o.productInfo.price),1),t("p",q,[t("small",W,[t("del",null,"NT$"+l(o.productInfo.origin_price),1)])])]),t("div",z,[G,v(t("select",{class:"form-select mb-4","onUpdate:modelValue":e[0]||(e[0]=s=>o.productQty=s),disabled:c.loadingStatus===o.productInfo.id,style:{"max-width":"150px"}},[(r(),n(m,null,h(20,s=>t("option",{key:s+1234,value:s},l(s),9,K)),64))],8,J),[[k,o.productQty]])]),t("button",{type:"button",class:"btn btn-secondary mb-3 me-4 d-block w-100",disabled:c.loadingStatus===o.productInfo.id,onClick:e[1]||(e[1]=s=>i.addToCart(o.productInfo.id,c.productInfoQty))}," 加入購物車 ",8,X),t("button",{type:"button",class:"btn btn-outline-secondary mb-4 d-block w-100",disabled:c.loadingStatus===o.productInfo.id,onClick:e[2]||(e[2]=s=>i.addToCart(o.productInfo.id,c.productInfoQty))}," 收藏餐點 ",8,Y),t("div",Z,[$,t("p",null,l(o.productInfo.description),1)]),o.productInfo.allergy?(r(),n("div",tt,[ot,t("p",null,l(o.productInfo.allergy),1)])):w("",!0)])])])}const rt=g(T,[["render",st]]);export{rt as default};
