import{a}from"./axios-L6U4YIEh.js";import{_ as p,c,a as t,F as i,f as u,d as _,t as e,g as m,o as r}from"./index-W89ng0Z0.js";var P={VITE_API_URL:"https://ec-course-api.hexschool.io/v2",VITE_API_PATH:"js23",BASE_URL:"/HW-Vue-week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API_URL:g,VITE_API_PATH:y}=P,f={data(){return{products:[],tempProduct:{}}},methods:{getProducts(){const d=`${g}/api/${y}/products`;a.get(d).then(n=>{this.products=n.data.products}).catch(n=>{alert(n.response.data.message)})},productInfo(d){this.tempProduct=d}},mounted(){const d=document.cookie.replace(/(?:(?:^|.*;\s*)hexVueToken\s*=\s*([^;]*).*$)|^.*$/,"$1");a.defaults.headers.common.Authorization=d,this.getProducts()}},k=t("h2",null,"產品列表",-1),x={class:"container"},b={class:"row py-3"},v={class:"col-md-6"},w=t("h2",null,"產品列表",-1),V={class:"table table-hover mt-4"},I=t("thead",null,[t("tr",null,[t("th",{width:"150"},"產品名稱"),t("th",{width:"120"},"原價"),t("th",{width:"120"},"售價"),t("th",{width:"120"},"查看細節")])],-1),A={width:"150"},E={width:"120"},T={width:"120"},R={width:"120"},U=["onClick"],B={class:"col-md-6"},D=t("h2",null,"單一產品細節",-1),L={class:"card mb-3"},S=["src"],C={class:"card-body"},H={class:"card-title"},N={class:"badge bg-primary ms-2"},O={class:"card-text"},j={class:"card-text"},F={class:"d-flex"},z={class:"card-text me-2"},M={class:"card-text text-secondary"},W=["src"],q={key:1,class:"text-secondary"};function G(d,n,J,K,s,h){var l;return r(),c(i,null,[k,t("div",x,[t("div",b,[t("div",v,[w,t("table",V,[I,t("tbody",null,[(r(!0),c(i,null,u(s.products,o=>(r(),c("tr",{key:o.id},[t("td",A,e(o.title),1),t("td",E,e(o.origin_price),1),t("td",T,e(o.price),1),t("td",R,[t("button",{type:"button",class:"btn btn-primary",onClick:Q=>h.productInfo(o)}," 查看細節 ",8,U)])]))),128))])]),t("p",null,[_("目前有 "),t("span",null,e(Object.keys(s.products).length),1),_(" 項產品")])]),t("div",B,[D,s.tempProduct.title?(r(),c(i,{key:0},[t("div",L,[t("img",{src:s.tempProduct.imageUrl,class:"card-img-top primary-image",alt:"主圖"},null,8,S),t("div",C,[t("h5",H,[_(e(s.tempProduct.title)+" ",1),t("span",N,e(s.tempProduct.category),1)]),t("p",O,"商品描述："+e(s.tempProduct.description),1),t("p",j,"商品內容："+e(s.tempProduct.content),1),t("div",F,[t("p",z,e(s.tempProduct.price),1),t("p",M,[t("del",null,e(s.tempProduct.origin_price),1)]),_(" 元 / "+e(s.tempProduct.unit),1)])])]),s.tempProduct.title?(r(!0),c(i,{key:0},u((l=s.tempProduct)==null?void 0:l.imagesUrl,o=>(r(),c("img",{class:"images m-2",key:o,src:o},null,8,W))),128)):m("",!0)],64)):(r(),c("p",q,"請選擇一個商品查看"))])])])],64)}const Z=p(f,[["render",G]]);export{Z as default};
