import{a as y,m as p,_ as C,o as a,c as o,b as t,G as v,w as f,F as l,f as h,t as d,p as I,n as S,r as $,h as c,i as r,l as j,d as g,e as m}from"./index-H3SZyrk6.js";import{c as w,l as B}from"./cartStore-GGJC3But.js";import{p as b}from"./productStore-qeHN0wCh.js";import"./sweetalert2.all-kU5F6enm.js";import"./swal-K9WUq7hK.js";const Q={methods:{...y(b,["getProducts"])},computed:{...p(b,["totalPages","currentPage"])},mounted(){this.getProducts()}},T=s=>(I("data-v-84a02373"),s=s(),S(),s),F={class:"pagination justify-content-center"},R=T(()=>t("span",null,"«",-1)),U=[R],q=["onClick"],x=T(()=>t("span",null,"»",-1)),z=[x];function A(s,_,N,V,u,L){return a(),o("nav",null,[t("ul",F,[t("li",{class:v(["page-item",{disabled:s.currentPage<=1}])},[t("a",{class:"page-link",href:"#",onClick:_[0]||(_[0]=f(n=>s.$emit("change-page",s.currentPage-1),["prevent"]))},U)],2),(a(!0),o(l,null,h(s.totalPages,n=>(a(),o("li",{key:n+"page",class:"page-item"},[t("a",{class:v(["page-link",{active:s.currentPage===n}]),href:"#",onClick:f(k=>s.$emit("change-page",n),["prevent"])},d(n),11,q)]))),128)),t("li",{class:v(["page-item",{disabled:s.currentPage>=s.totalPages}])},[t("a",{class:"page-link",href:"#",onClick:_[1]||(_[1]=f(n=>s.$emit("change-page",s.currentPage+1),["prevent"]))},z)],2)])])}const D=C(Q,[["render",A],["__scopeId","data-v-84a02373"]]),E={data(){return{tempProduct:{},categories:["主餐","輕食","果昔碗","飲品"],cartQty:1}},components:{ProductPagination:D},mounted(){this.getProducts()},watch:{"$route.query":{handler(){this.getProducts()},deep:!0}},computed:{...p(b,["products","displayedProducts"]),...p(w,["cartLoading"]),...p(B,["loadingProductId"])},methods:{...y(b,["getProducts"]),...y(w,["addToCart"]),productInfo(s){this.tempProduct=s}}},P=s=>(I("data-v-0baaa518"),s=s(),S(),s),G=j('<section class="mb-3 banner" style="height:250px;" data-v-0baaa518><div class="container" data-v-0baaa518><div class="row justify-content-center" data-v-0baaa518><div class="col-sm-9 col-md-7 col-lg-5" data-v-0baaa518><h1 class="banner-text fs-3" data-v-0baaa518>線上訂餐</h1></div></div></div></section>',1),M={class:"container"},H={class:"breadcrumb mb-3"},J={class:"breadcrumb-item"},K={class:"breadcrumb-item"},O={class:"row justify-content-center mb-10"},W={class:"col-12"},X={class:"nav sticky-top bg-light pb-1 mb-4 nav-tab-top",id:"myTab",role:"tablist"},Y=P(()=>t("li",{class:"nav-item",role:"presentation"},[t("a",{class:"nav-link active fs-5 px-1 mx-2",id:"all-tab","data-bs-toggle":"tab","data-bs-target":"#all",href:"#",role:"tab"}," 全部餐點 ")],-1)),Z=["id","data-bs-target"],tt={class:"tab-content",id:"myTabContent"},st={class:"tab-pane fade show active",id:"all",role:"tabpanel"},et={class:"row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 gy-5 mb-5"},at={key:0,class:"col card-hover"},ot={class:"col"},nt={class:"card-img"},it=["src","alt"],lt={class:"py-3 py-lg-2"},dt={class:"fs-4 text-dark mb-2 mb-lg-1"},ct={class:"text-primary d-flex align-items-center"},rt={class:"fs-6 text-gray-600 ms-2"},_t=["onClick","disabled"],ut=P(()=>t("span",null,"加入購物車",-1)),ht={key:0,class:"fas fa-spinner fa-pulse ms-2"},gt=["id"],mt={class:"row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 gy-5"},pt={key:0,class:"col card-hover"},bt={class:"col"},vt={class:"card-img"},ft=["src","alt"],yt={class:"py-3 py-lg-2"},Pt={class:"fs-4 text-dark mb-2 mb-lg-1"},kt={class:"text-primary d-flex align-items-center"},$t={class:"fs-6 text-gray-600 ms-2"},wt=["onClick","disabled"],Ct=P(()=>t("span",null,"加入購物車",-1)),It={key:0,class:"fas fa-spinner fa-pulse ms-2"};function St(s,_,N,V,u,L){const n=$("RouterLink"),k=$("Product-Pagination");return a(),o(l,null,[G,t("div",M,[t("nav",null,[t("ol",H,[t("li",J,[c(n,{to:"/",class:"fs-6"},{default:r(()=>[g("首頁")]),_:1})]),t("li",K,[c(n,{to:"/products",class:"text-dark fs-6"},{default:r(()=>[g("線上訂餐")]),_:1})])])]),t("section",O,[t("div",W,[t("ul",X,[Y,(a(!0),o(l,null,h(u.categories,e=>(a(),o("li",{class:"nav-item",role:"presentation",key:e},[t("a",{class:"nav-link fs-5 px-1 mx-2",id:`${e}-tab`,"data-bs-toggle":"tab","data-bs-target":`#${e}`,href:"#",role:"tab"},d(e),9,Z)]))),128))]),t("div",tt,[t("div",st,[t("div",et,[(a(!0),o(l,null,h(s.displayedProducts,e=>(a(),o(l,{key:e.id},[s.products?(a(),o("div",at,[t("div",ot,[t("div",nt,[c(n,{to:`/products/${e.id}`},{default:r(()=>[t("img",{src:e.imageUrl,alt:e.title,class:"w-100 d-block rounded-3",height:"240"},null,8,it)]),_:2},1032,["to"])]),t("div",lt,[c(n,{to:`/products/${e.id}`},{default:r(()=>[t("h4",dt,d(e.title),1)]),_:2},1032,["to"]),t("h5",ct,[g(" NT$"+d(e.price)+" ",1),t("span",rt,[t("del",null,"NT$"+d(e.origin_price),1)])])]),t("button",{type:"button",class:"btn btn-secondary fs-6 w-100",onClick:i=>s.addToCart(e.id,u.cartQty),disabled:s.loadingProductId===e.id},[ut,s.loadingProductId===e.id?(a(),o("i",ht)):m("",!0)],8,_t)])])):m("",!0)],64))),128))]),c(k,{onChangePage:s.getProducts},null,8,["onChangePage"])]),(a(!0),o(l,null,h(u.categories,e=>(a(),o("div",{key:e,class:"tab-pane fade",id:e,role:"tabpanel"},[t("div",mt,[(a(!0),o(l,null,h(s.products,i=>(a(),o(l,{key:i.id},[i.category===e?(a(),o("div",pt,[t("div",bt,[t("div",vt,[c(n,{to:`/products/${i.id}`},{default:r(()=>[t("img",{src:i.imageUrl,alt:i.title,class:"w-100 d-block rounded-3",height:"240"},null,8,ft)]),_:2},1032,["to"])]),t("div",yt,[c(n,{to:`/products/${i.id}`},{default:r(()=>[t("h4",Pt,d(i.title),1)]),_:2},1032,["to"]),t("h5",kt,[g(" NT$"+d(i.price)+" ",1),t("span",$t,[t("del",null,"NT$"+d(i.origin_price),1)])])]),t("button",{type:"button",class:"btn btn-secondary fs-6 w-100",onClick:Tt=>s.addToCart(i.id,u.cartQty),disabled:s.loadingProductId===i.id},[Ct,s.loadingProductId===i.id?(a(),o("i",It)):m("",!0)],8,wt)])])):m("",!0)],64))),128))])],8,gt))),128))])])])])],64)}const Qt=C(E,[["render",St],["__scopeId","data-v-0baaa518"]]);export{Qt as default};
